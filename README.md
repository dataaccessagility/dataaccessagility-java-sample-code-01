# Data Access Agility Java Sample Code
This project shows you how Data Access Agility could make database manipulation much easier.

## Getting Started
Code files in the folders src/models and src/dataaccessobjects have been auto generated by Data Access Agility. Please have a look at the entry class (DataAccessAgilityJavaSampleCode) to see how we make calls to a database using the auto generated classes. The sample code assumes that the back-end database is MySql. Do not forget to include your database parameters in the connection string.

## Prerequisites
Make sure to install MySql JDBC Driver (MySql Connector for Java). Driver version shall be compatible with Java SDK version used in the project

## Running the Project
Before you can run the project, execute the following SQL script on the target database. This script has also been generated by Data Access Agility. Please note that this script is compatible with MySql Server only. To test the project against a different database engine, such as Oracle and MS Sql Server, please create a project at http://www.dataaccessagility.com and select whatever database engine you want.

```
-- HR_EMPLOYEE
CREATE TABLE HR_EMPLOYEE(
EMPLOYEE_ID INT NOT NULL,
EMPLOYEE_NAME VARCHAR(256) NOT NULL,
EMPLOYEE_BASE_SALARY DECIMAL(7, 2) NOT NULL,
EMPLOYEE_HIRING_DATE DATE NOT NULL,
DIVISION_ID INT NOT NULL
);

-- HR_Division
CREATE TABLE HR_Division(
DIVISION_ID INT NOT NULL,
DIVISION_NAME VARCHAR(128) NOT NULL,
PARENT_DIVISION_ID INT NULL
);

-- PK_HR_Division_DIVISION_ID
ALTER TABLE HR_Division
ADD CONSTRAINT PK_HR_Division PRIMARY KEY (DIVISION_ID ASC);

-- PK_HR_EMPLOYEE_EMPLOYEE_ID
ALTER TABLE HR_EMPLOYEE
ADD CONSTRAINT PK_HR_EMPLOYEE PRIMARY KEY (EMPLOYEE_ID ASC);

-- FK_HR_EMPLOYEE_DIVISION_ID_899
ALTER TABLE HR_EMPLOYEE
ADD CONSTRAINT FK_HR_EMPLOYEE_DIVISION_ID_899 FOREIGN KEY (DIVISION_ID) REFERENCES HR_Division (DIVISION_ID) ON DELETE NO ACTION ON UPDATE NO ACTION;

-- FK_HR_Division_PARENT_DIVIS531
ALTER TABLE HR_Division
ADD CONSTRAINT FK_HR_Division_PARENT_DIVIS531 FOREIGN KEY (PARENT_DIVISION_ID) REFERENCES HR_Division (DIVISION_ID) ON DELETE NO ACTION ON UPDATE NO ACTION;


```

After you execute this script, specify the connection string of the target database in the main method:

```
ConnectionProvider.setConnectionString("jdbc:mysql://DATABASE_HOST?allowMultiQueries=true", "db_username", "db_password");
```

## License

This project is licensed under the MIT License - see the [LICENSE.md](LICENSE.md) file for details
